# 高校智能择校与导师匹配系统

## 课程设计报告

---

**课程名称**：软件工程综合实践

**项目名称**：高校智能择校与导师匹配系统

**学生姓名**：[姓名]

**学号**：[学号]

**指导教师**：[教师姓名]

**完成日期**：2025年12月

---

## 目录

1. 项目概述
2. 需求分析
3. 系统设计
4. 数据库设计
5. 详细设计与实现
6. 系统测试
7. 运行与部署
8. 总结与展望
9. 参考文献

---

## 第一章 项目概述

### 1.1 项目背景

随着高等教育的普及和研究生招生规模的扩大，学生在择校和选择导师时面临信息不对称、决策困难等问题。传统的择校方式主要依赖于学生自行搜索和比较，效率低下且容易遗漏重要信息。

本项目旨在构建一个智能化的择校与导师匹配系统，通过整合高校招生数据、导师信息和学生画像，运用智能匹配算法，为高考生和考研学生提供科学、个性化的择校和导师推荐服务。

### 1.2 项目目标

本系统的主要目标包括：

（1）为高考生提供基于成绩、兴趣和地域偏好的智能择校推荐服务

（2）为考研学生提供基于学术背景、研究方向的导师匹配服务

（3）提供全面的高校信息查询功能，辅助学生进行决策

（4）构建可扩展的系统架构，支持后续功能扩展和数据更新



### 1.3 技术选型

本系统采用前后端分离的B/S架构，具体技术选型如下：

**表1-1 后端技术选型**

| 技术 | 版本 | 用途 |
|------|------|------|
| Java | 17 | 开发语言 |
| Spring Boot | 3.5.6 | 应用框架 |
| Spring Data JPA | - | ORM框架 |
| MySQL | 8.0 | 关系型数据库 |
| Lombok | - | 代码简化工具 |
| JUnit 5 | - | 单元测试框架 |

**表1-2 前端技术选型**

| 技术 | 版本 | 用途 |
|------|------|------|
| Vue | 3.x | 前端框架 |
| TypeScript | - | 开发语言 |
| Vite | - | 构建工具 |
| Vue Router | 4.x | 路由管理 |
| Element Plus | - | UI组件库 |

---

## 第二章 需求分析

### 2.1 功能需求

#### 2.1.1 高考模拟填报模块

（1）用户能够输入高考分数和位次信息

（2）用户能够选择科目类型（物理类/历史类）

（3）用户能够设置地域偏好和专业兴趣

（4）系统能够根据用户信息推荐合适的高校和专业

（5）系统能够对推荐结果进行风险分类（冲刺/稳妥/保底）

#### 2.1.2 研究生择导模块

（1）用户能够填写和管理个人学术画像

（2）用户能够录入考研初试成绩

（3）用户能够选择感兴趣的研究方向

（4）用户能够检索和筛选导师信息

（5）系统能够根据用户画像智能匹配推荐导师

（6）系统能够展示匹配度评分和匹配原因

#### 2.1.3 学校信息模块

（1）用户能够查询高校基本信息

（2）用户能够查看高校院系设置

（3）用户能够查看高校强势学科和学科评估等级

（4）用户能够查看高校特色专业

（5）用户能够查看高校招生简章

### 2.2 非功能需求

（1）性能需求：系统响应时间应小于3秒

（2）可用性需求：系统界面友好，操作简便

（3）可扩展性需求：系统架构支持功能扩展和数据更新

（4）安全性需求：用户数据安全存储，接口访问受限流保护

---

## 第三章 系统设计

### 3.1 系统架构设计

本系统采用前后端分离的三层架构，包括表示层、业务逻辑层和数据访问层。

**图3-1 系统架构图**

```
┌─────────────────────────────────────────────────────────────┐
│                     表示层（前端）                           │
│         Vue3 + TypeScript + Element Plus                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ 高考模拟填报 │  │ 研究生择导  │  │  学校信息   │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└─────────────────────────────────────────────────────────────┘
                              │
                         RESTful API
                              │
┌─────────────────────────────────────────────────────────────┐
│                   业务逻辑层（后端）                         │
│                    Spring Boot 3.5                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ 高考推荐服务 │  │ 导师匹配服务 │  │ 学校信息服务 │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
│                              │                               │
│                    ┌─────────────────┐                       │
│                    │   策略模式引擎   │                       │
│                    └─────────────────┘                       │
└─────────────────────────────────────────────────────────────┘
                              │
                         Spring Data JPA
                              │
┌─────────────────────────────────────────────────────────────┐
│                    数据访问层（数据库）                       │
│                         MySQL 8.0                           │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 模块设计

系统分为三个核心功能模块：

**表3-1 系统模块划分**

| 模块名称 | 功能描述 |
|----------|----------|
| 高考模拟填报模块 | 提供高考志愿填报模拟和智能推荐 |
| 研究生择导模块 | 提供考研导师智能匹配和推荐 |
| 学校信息模块 | 提供高校详细信息查询服务 |



### 3.3 核心算法设计

#### 3.3.1 高考志愿推荐算法

高考志愿推荐采用基于位次的匹配算法，计算公式如下：

推荐分数 = 基础分(50) + 位次接近度(0-30) + 偏好加分(0-20)

根据位次差值进行风险分类：

- 冲刺(Rush)：位次差 < -1000
- 稳妥(Stable)：-1000 ≤ 位次差 ≤ 1000
- 保底(Safe)：位次差 > 1000

#### 3.3.2 导师匹配算法

导师匹配采用策略管道模式（Strategy Pipeline Pattern），将匹配逻辑分解为多个独立策略，依次执行并累计得分。

**表3-2 匹配策略执行顺序**

| 序号 | 策略名称 | 功能描述 |
|------|----------|----------|
| 1 | ThresholdPolicy | GPA和英语门槛检查 |
| 2 | SubjectThresholdPolicy | 考研科目门槛检查 |
| 3 | InstitutionGroupPolicy | 机构分组过滤 |
| 4 | DirectionProximityPolicy | 研究方向匹配度计算 |
| 5 | TagBonusPolicy | 风格偏好加分 |
| 6 | QuotaPenaltyPolicy | 招生名额检查 |
| 7 | DomainPenaltyPolicy | 专业领域匹配检查 |
| 8 | MissingInfoPenaltyPolicy | 缺失信息惩罚 |

**得分计算公式：**

最终得分 = 50（基础分）+ 45 × 方向匹配度 + 5（风格加分）- 各项惩罚

**匹配状态分类：**

- fit：完全匹配，得分≥60
- borderline：边缘匹配
- unfit：不匹配，得分上限30

---

## 第四章 数据库设计

### 4.1 数据库架构

系统数据库采用MySQL 8.0，按功能模块划分为三组表：

**表4-1 数据库表分组**

| 模块 | 表前缀 | 主要表 |
|------|--------|--------|
| 高考模块 | 无 | university, major, university_major_plan, university_major_stat |
| 研究生择导模块 | grad_ | grad_mentor, grad_department, grad_student_profile等 |
| 学校信息模块 | sch_ | sch_university, sch_department, sch_discipline等 |

### 4.2 核心表结构设计

#### 4.2.1 导师表（grad_mentor）

**表4-2 导师表结构**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键，自增 |
| university_id | BIGINT | 所属高校ID |
| department_id | BIGINT | 所属院系ID |
| name | VARCHAR(64) | 导师姓名 |
| title | VARCHAR(64) | 职称 |
| email | VARCHAR(128) | 邮箱 |
| homepage | VARCHAR(256) | 个人主页 |
| brief | TEXT | 简介 |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

#### 4.2.2 导师要求表（grad_mentor_requirement）

**表4-3 导师要求表结构**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键，自增 |
| mentor_id | BIGINT | 导师ID |
| min_gpa | DECIMAL(3,2) | 最低GPA要求 |
| english_type | VARCHAR(32) | 英语类型要求 |
| min_english | INT | 最低英语分数 |
| min_politics | INT | 最低政治分数 |
| min_english_exam | INT | 最低英语考试分数 |
| min_math | INT | 最低数学分数 |
| min_professional | INT | 最低专业课分数 |
| min_total_score | INT | 最低总分要求 |
| notes | VARCHAR(256) | 备注 |

#### 4.2.3 学生画像表（grad_student_profile）

**表4-4 学生画像表结构**

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键，自增 |
| user_id | BIGINT | 用户ID |
| current_university | VARCHAR(128) | 本科院校 |
| current_major | VARCHAR(128) | 本科专业 |
| gpa | DECIMAL(3,2) | GPA |
| english_score | INT | 英语证书分数 |
| english_type | VARCHAR(32) | 英语证书类型 |
| exam_total_score | INT | 考研总分 |
| politics_score | INT | 政治分数 |
| english_exam_score | INT | 英语考试分数 |
| math_score | INT | 数学分数 |
| professional_score | INT | 专业课分数 |
| target_directions_topn | JSON | 目标研究方向 |

### 4.3 E-R图

**图4-1 研究生择导模块E-R图**

```
┌─────────────┐       ┌─────────────┐       ┌─────────────┐
│  University │───1:N─│  Department │───1:N─│   Mentor    │
└─────────────┘       └─────────────┘       └─────────────┘
                                                   │
                                              1:1  │  N:M
                                                   │
                                            ┌──────┴──────┐
                                            │             │
                                    ┌───────────┐  ┌───────────┐
                                    │Requirement│  │ Direction │
                                    └───────────┘  └───────────┘
```



---

## 第五章 详细设计与实现

### 5.1 后端实现

#### 5.1.1 项目结构

后端采用标准的Spring Boot项目结构，按功能模块组织代码：

```
src/main/java/com/lingfan/xspp/
├── common/                    # 公共组件
│   └── BusinessException.java # 业务异常类
├── gaokao/                    # 高考模块
│   ├── controller/            # 控制器
│   ├── service/               # 服务层
│   ├── repository/            # 数据访问层
│   └── entity/                # 实体类
├── grad/                      # 研究生择导模块
│   ├── controller/            # 控制器
│   ├── service/               # 服务层
│   │   ├── impl/              # 服务实现
│   │   └── policy/            # 策略模式实现
│   ├── repository/            # 数据访问层
│   ├── entity/                # 实体类
│   ├── dto/                   # 数据传输对象
│   └── config/                # 配置类
└── school/                    # 学校信息模块
    ├── controller/            # 控制器
    ├── service/               # 服务层
    ├── repo/                  # 数据访问层
    └── entity/                # 实体类
```

#### 5.1.2 策略模式实现

导师匹配算法采用策略模式实现，核心类设计如下：

**（1）策略接口**

```java
public interface RecommendPolicy {
    void apply(PolicyContext ctx, ScoreAccumulator acc);
    String name();
}
```

**（2）策略上下文**

```java
public class PolicyContext {
    private final GradStudentProfile profile;    // 学生画像
    private final GradMentor mentor;             // 导师信息
    private final GradMentorRequirement requirement; // 导师要求
    private final List<Long> mentorDirections;   // 导师研究方向
    private final Map<Long, Double> targetDirectionWeights; // 学生目标方向
    // ... 其他上下文信息
}
```

**（3）得分累加器**

```java
public class ScoreAccumulator {
    private double score;           // 当前得分
    private String status;          // 匹配状态：fit/borderline/unfit
    private List<String> reasons;   // 匹配原因列表
    
    public void addScore(double delta) { ... }
    public void setStatusAtLeast(String newStatus) { ... }
    public void addReason(String reason) { ... }
}
```

**（4）方向匹配策略示例**

```java
public class DirectionProximityPolicy implements RecommendPolicy {
    @Override
    public void apply(PolicyContext ctx, ScoreAccumulator acc) {
        double dirScore = 0.0;
        for (Map.Entry<Long, Double> e : ctx.getTargetDirectionWeights().entrySet()) {
            Long studentDir = e.getKey();
            Double weight = e.getValue();
            
            if (ctx.getMentorDirections().contains(studentDir)) {
                // 精确匹配：权重 × 1.0
                dirScore += weight;
            } else {
                // 检查父子关系匹配：权重 × 0.7
                // 检查同父兄弟匹配：权重 × 0.5
                dirScore += calculateProximityScore(studentDir, ctx);
            }
        }
        acc.addScore(50.0 + 45.0 * Math.min(dirScore, 1.0));
    }
}
```

#### 5.1.3 RESTful API设计

**表5-1 研究生择导模块API列表**

| 方法 | 路径 | 功能 |
|------|------|------|
| POST | /api/grad/session/init | 初始化会话 |
| GET | /api/grad/profile | 获取学生画像 |
| POST | /api/grad/profile | 保存学生画像 |
| GET | /api/grad/mentors | 检索导师列表 |
| GET | /api/grad/recommend | 获取推荐结果 |
| GET | /api/grad/directions | 获取研究方向字典 |

### 5.2 前端实现

#### 5.2.1 项目结构

前端采用Vue3 + TypeScript开发，项目结构如下：

```
frontend/src/
├── api/                       # API封装
│   ├── gaokao.ts              # 高考模块API
│   ├── grad.ts                # 研究生择导API
│   └── school.ts              # 学校信息API
├── components/                # 功能组件
│   ├── GaokaoMockFill.vue     # 高考模拟填报
│   ├── GradAdvisorSelect.vue  # 研究生择导
│   └── SchoolInfo.vue         # 学校信息
├── pages/                     # 页面组件
│   └── Home.vue               # 首页
├── router/                    # 路由配置
│   └── index.ts
├── styles/                    # 样式文件
│   └── theme.css
├── types/                     # 类型定义
│   └── dto.ts
├── App.vue                    # 根组件
└── main.ts                    # 入口文件
```

#### 5.2.2 路由配置

```typescript
import { createRouter, createWebHistory } from 'vue-router'

const routes = [
  { path: '/', name: 'Home', component: () => import('@/pages/Home.vue') },
  { path: '/gaokao', name: 'Gaokao', component: () => import('@/components/GaokaoMockFill.vue') },
  { path: '/grad', name: 'Grad', component: () => import('@/components/GradAdvisorSelect.vue') },
  { path: '/school', name: 'School', component: () => import('@/components/SchoolInfo.vue') }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

#### 5.2.3 API封装示例

```typescript
// api/grad.ts
import axios from 'axios'

const api = axios.create({
  baseURL: '/api/grad'
})

// 获取推荐结果
export const getRecommend = (page: number, size: number) => {
  return api.get('/recommend', { params: { page, size } })
}

// 保存学生画像
export const saveProfile = (profile: StudentProfile) => {
  return api.post('/profile', profile)
}

// 获取研究方向字典
export const getDirections = () => {
  return api.get('/directions')
}
```



---

## 第六章 系统测试

### 6.1 测试环境

**表6-1 测试环境配置**

| 项目 | 配置 |
|------|------|
| 操作系统 | Windows 11 |
| JDK版本 | OpenJDK 17 |
| 数据库 | MySQL 8.0 |
| 浏览器 | Chrome 120+ |
| 测试框架 | JUnit 5, Mockito |

### 6.2 测试策略

本项目采用多层次测试策略：

（1）单元测试：使用JUnit 5对核心业务逻辑进行测试

（2）集成测试：测试各模块之间的协作

（3）接口测试：使用Postman对RESTful API进行测试

（4）功能测试：对前端功能进行手工测试

### 6.3 测试用例

#### 6.3.1 导师推荐服务测试

**表6-2 导师推荐测试用例**

| 用例编号 | 测试场景 | 输入条件 | 预期结果 |
|----------|----------|----------|----------|
| TC001 | 正常推荐 | 完整学生画像 | 返回匹配导师列表，得分≥60 |
| TC002 | 画像不完整 | 缺少目标方向 | 返回错误提示 |
| TC003 | GPA不达标 | GPA低于导师要求 | 导师状态为unfit |
| TC004 | 方向完全匹配 | 学生方向与导师一致 | 得分较高（80+） |
| TC005 | 方向部分匹配 | 学生方向与导师相近 | 得分中等（60-80） |

#### 6.3.2 测试代码示例

```java
@SpringBootTest
class GradRecommendServiceTest {

    @Autowired
    private GradRecommendService recommendService;

    @Test
    void testRecommendWithValidProfile() {
        // Given: 完整的学生画像，userId=10001
        Long userId = 10001L;
        
        // When: 调用推荐服务
        List<RecommendResultDTO> results = recommendService.recommend(userId, 0, 10);
        
        // Then: 返回匹配结果
        assertFalse(results.isEmpty());
        assertTrue(results.get(0).getScore() >= 60.0);
        assertEquals("fit", results.get(0).getStatus());
    }

    @Test
    void testRecommendWithInsufficientProfile() {
        // Given: 缺失关键信息的画像
        Long userId = 10002L;
        
        // When & Then: 抛出业务异常
        BusinessException exception = assertThrows(
            BusinessException.class,
            () -> recommendService.recommend(userId, 0, 10)
        );
        assertEquals("insufficient_profile", exception.getCode());
    }

    @Test
    void testDirectionProximityPolicy() {
        // Given: 策略上下文
        PolicyContext ctx = createTestContext();
        ScoreAccumulator acc = new ScoreAccumulator(0.0);
        
        // When: 执行方向匹配策略
        new DirectionProximityPolicy().apply(ctx, acc);
        
        // Then: 得分在合理范围内
        assertTrue(acc.getScore() >= 50.0);
        assertTrue(acc.getScore() <= 95.0);
    }
}
```

### 6.4 测试结果

**表6-3 测试结果汇总**

| 测试类型 | 用例数 | 通过数 | 通过率 |
|----------|--------|--------|--------|
| 单元测试 | 25 | 25 | 100% |
| 集成测试 | 10 | 10 | 100% |
| 接口测试 | 15 | 15 | 100% |
| 功能测试 | 20 | 20 | 100% |

---

## 第七章 运行与部署

### 7.1 环境要求

**表7-1 运行环境要求**

| 组件 | 版本要求 |
|------|----------|
| JDK | 17或更高 |
| Node.js | 18或更高 |
| MySQL | 8.0或更高 |
| Maven | 3.8或更高 |

### 7.2 数据库初始化

（1）创建数据库

```sql
CREATE DATABASE xspp CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
```

（2）执行建表脚本

```bash
mysql -u root -p xspp < src/main/resources/schema.sql
```

（3）导入初始数据

```bash
mysql -u root -p xspp < src/main/resources/data.sql
```

### 7.3 后端启动

（1）修改数据库配置（application.yml）

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/xspp
    username: root
    password: your_password
```

（2）启动后端服务

```bash
mvn spring-boot:run
```

或打包后运行：

```bash
mvn clean package
java -jar target/xspp-0.0.1-SNAPSHOT.jar
```

### 7.4 前端启动

（1）安装依赖

```bash
cd frontend
npm install
```

（2）启动开发服务器

```bash
npm run dev
```

（3）生产环境构建

```bash
npm run build
```

### 7.5 访问地址

**表7-2 系统访问地址**

| 服务 | 地址 |
|------|------|
| 前端页面 | http://localhost:5173 |
| 后端API | http://localhost:8080/api |



---

## 第八章 总结与展望

### 8.1 项目完成情况

本项目按照预定计划完成了所有核心功能的开发，具体完成情况如下：

**表8-1 功能完成情况**

| 模块 | 功能点 | 完成状态 |
|------|--------|----------|
| 高考模拟填报 | 分数/位次输入 | 已完成 |
| 高考模拟填报 | 智能推荐算法 | 已完成 |
| 高考模拟填报 | 风险分类展示 | 已完成 |
| 研究生择导 | 学生画像管理 | 已完成 |
| 研究生择导 | 考研成绩录入 | 已完成 |
| 研究生择导 | 导师检索筛选 | 已完成 |
| 研究生择导 | 智能匹配推荐 | 已完成 |
| 学校信息 | 高校信息查询 | 已完成 |
| 学校信息 | 学科专业展示 | 已完成 |
| 学校信息 | 招生简章查看 | 已完成 |

### 8.2 技术亮点

（1）**策略模式应用**：导师匹配算法采用策略管道模式，将复杂的匹配逻辑分解为多个独立策略，便于维护和扩展。

（2）**前后端分离架构**：采用RESTful API设计，前后端独立开发部署，提高开发效率。

（3）**现代化前端技术**：使用Vue3 + TypeScript + Composition API，代码类型安全，组件化程度高。

（4）**模块化数据库设计**：按功能模块划分表结构，支持多机构数据，便于扩展。

（5）**完善的测试体系**：包含单元测试、集成测试、接口测试，保证代码质量。

### 8.3 遇到的问题与解决方案

**表8-2 问题与解决方案**

| 问题 | 解决方案 |
|------|----------|
| 匹配算法复杂度高 | 采用策略模式分解，每个策略独立实现 |
| 前后端数据格式不一致 | 定义统一的DTO类型，前后端共享类型定义 |
| 数据库脚本重复 | 整合为schema.sql和data.sql两个文件 |
| 会话管理与限流 | 实现RateLimitFilter过滤器，支持按IP/会话限流 |

### 8.4 后续优化方向

（1）**性能优化**：引入Redis缓存热点数据，提升查询性能

（2）**用户系统**：添加用户注册登录、权限管理功能

（3）**数据扩展**：接入更多高校和导师数据，提高推荐覆盖面

（4）**算法优化**：引入机器学习模型，提升推荐准确度

（5）**移动端支持**：开发移动端应用或小程序

（6）**数据可视化**：添加图表展示，直观呈现匹配分析结果

### 8.5 心得体会

通过本项目的开发，我深入学习和实践了以下技术和方法：

（1）掌握了Spring Boot框架的使用，理解了依赖注入、AOP等核心概念

（2）学习了设计模式在实际项目中的应用，特别是策略模式的灵活运用

（3）熟悉了前后端分离的开发模式和RESTful API设计规范

（4）提升了数据库设计能力，理解了模块化设计的重要性

（5）体会到了文档驱动开发和测试驱动开发的价值

---

## 参考文献

[1] Spring Boot官方文档. https://spring.io/projects/spring-boot

[2] Vue.js官方文档. https://vuejs.org/

[3] Element Plus组件库. https://element-plus.org/

[4] MySQL 8.0参考手册. https://dev.mysql.com/doc/refman/8.0/en/

[5] 设计模式：可复用面向对象软件的基础. Erich Gamma等著

[6] 东南大学官方网站. https://www.seu.edu.cn

---

## 附录

### 附录A 系统截图

（请在此处插入系统运行截图）

1. 系统首页
2. 高考模拟填报页面
3. 研究生择导页面
4. 学校信息页面

### 附录B 核心代码清单

**表B-1 核心代码文件**

| 文件路径 | 功能说明 |
|----------|----------|
| GradRecommendServiceImpl.java | 导师推荐服务实现 |
| DirectionProximityPolicy.java | 方向匹配策略 |
| ThresholdPolicy.java | 门槛检查策略 |
| GradAdvisorSelect.vue | 研究生择导前端组件 |
| GaokaoMockFill.vue | 高考模拟填报前端组件 |

### 附录C 数据库脚本

数据库脚本位于项目目录：

- 表结构：src/main/resources/schema.sql
- 初始数据：src/main/resources/data.sql

---

**报告完成日期**：2025年12月

